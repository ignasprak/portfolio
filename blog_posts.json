[
  {
    "id": "2025-08-09-defintely-the-final-test",
    "title": "defintely the final test",
    "date": "2025-08-09",
    "html_content": "<p>oh boy\ncmon lad\nlets try a little update\nlets try another one\nmaybe another one</p>"
  },
  {
    "id": "2025-08-09-data-engineering---day-1",
    "title": "Data Engineering - Day 1",
    "date": "2025-08-09",
    "html_content": "<p>Today I start my first day of the DataTalksClub course that I will be doing on my own, without any intention of getting a certificate and purely to learn about the fundamentals of data engineering.</p>"
  },
  {
    "id": "2025-08-11-datatalksclub---day-1",
    "title": "DataTalksClub - Day 1",
    "date": "2025-08-11",
    "html_content": "<h1>dataengineering #datatalksclub</h1>\n<h1>Intro to Docker (1.2.1)</h1>\n<p>ci/cd is not covered in the course, make sure to look at this in a later date</p>\n<p>docker is useful, because\n- local experimentation\n- integration testing (CI/CD)\n- reproducibility\n- running pipelines on the cloud (AWS batch, kubernetes)\n- Spark (defining data pipelines, used to define dependencies)\n- Serverless (AWS Lambda, processing data one record at a time)</p>\n<h2>Docker Basics:</h2>\n<p><code>docker run -it ubuntu bash</code></p>\n<ul>\n<li>docker is the base command for using docker</li>\n<li>run means to execute an image </li>\n<li>-it means to run in an interactive terminal</li>\n<li>ubuntu means the name of the image we want to run</li>\n<li>bash means the command we want to execute in this image (parameter)\nrunning this image and deleting everything and running it again returns it to its original state because it is isolated</li>\n</ul>\n<p><code>docker run -it python:3.9</code></p>\n<ul>\n<li>python is the name of the image</li>\n<li>3.9 is the tech, otherwise known as the version</li>\n</ul>\n<p><code>docker run -it --entrypoint=bash python:3.9</code>\nin order to install modules, we can use pip install pandas, but in order to do this we need to go to a bash terminal since we cannot do this in python</p>\n<h2>Docker in VSC</h2>\n<p>when we are creating our own container we need specifications for our dockerfile, so we start with the base image</p>\n<p>in this case it would be:\n<code>FROM python:3.9</code></p>\n<p>then we can do a run command which would be \n<code>RUN pip install pandas</code></p>\n<p>since we can only install pandas in bash and not python we do:\n<code>ENTRYPOINT [ \"bash\" ]</code></p>\n<p>in order to build this image from VSC, using the docker file we do:\n<code>docker build -t test:pandas .</code></p>\n<ul>\n<li>build tells docker to build the image</li>\n<li>. means to build it in the current directory</li>\n</ul>\n<p>then when that is done, you can run it by using (which will being you into the bash terminal):\n<code>docker run -it test:pandas</code></p>\n<h2>Data Pipeline</h2>\n<p>We can now create a python file (.py)</p>\n<p>we can type in:\n<code>import pandas as pd</code> \nwhatever fancy stuff it will be doing\n<code>print('yay job done')</code></p>\n<p>then in our docker file we add:\n<code>COPY pipeline.py pipeline.py</code>\nwhich copies the file to docker container</p>\n<p>and we can specify the work directory:\n<code>WORKDIR /app</code></p>\n<p>now you run the container, and go into the python terminal and you can do pipeline.py when you are in the working directory</p>\n<h3>Data Pipeline - Automation</h3>\n<p>to the pipeline file we add:\n<code>import sys</code>\n<code>print(sys.argv)</code>\n<code>day = sys.argv[1]</code>\n<code>print(f'job done good for day = {day}')</code></p>\n<p>then in the docker file we do:\n<code>ENTRYPOINT [ \"python\", \"pipeline.py\" ]</code></p>\n<p>you build the container, and then run it:\n<code>docker run -it test:pandas 2025-08-10</code></p>\n<p>this is how paramterise the data pipeline scripts\n<code>docker run -it test:pandas 2025-08-10 123 hello</code></p>\n<h1>Ingesting NY Taxi Data to Postgres (1.2.2)</h1>\n<h3>docker compose</h3>\n<ul>\n<li>we have environment variables, we use a -e flag for this (postgres_user/password/db)</li>\n<li>we have volumes (a way of mapping folder in host machine file system to a folder in a container), this is called mounting, we use a -v flag for this (needs a full path on window machines) ((for mac you can do in the example $(pwd)/blahblahblah))</li>\n<li>we also need to specify a port on our host machine to a port on the container (needed to send a request to the db, we use a -p for this (5432:5432)</li>\n</ul>\n<p>from the tutorial section we put the code into the terminal to run it\n<code>docker run -it \\</code>\n        <code>-e POSTGRES_USER=\"root\" \\</code>\n        <code>-e POSTGRES_PASSWORD=\"root\" \\</code>\n        <code>-e POSTGRES_DB=\"ny_taxi\" \\</code>\n        <code>-v \"/Users/ignasprakapas/Coding Projects/data-engineering/data-engineering-zoomcamp/01-docker-terraform/2_docker_sql/ny_taxi_postgres_data\":/var/lib/postgresql/data \\</code>\n        <code>-p 5432:5432 \\</code>\n        <code>postgres:13</code>\nNow we want to access the database (pip install pgcli)\n<code>pgcli -h localhost -p 5432 -u root -d ny_taxi</code></p>\n<p>sometimes the port 5432 is already in use by a previous container, so on mac we do <code>sudo lsof -i -P | grep LISTEN | grep :$PORT</code> to list the ports in use and then do <code>sudo kill -9 (PID)</code></p>\n<p>when we are in the container using pgcli, we can do:\n<code>\\dt</code> - to list the tables in there</p>\n<p>we are going to use jupyter now, to install we can do <code>pip install jupyter</code></p>\n<p>then we can do jupyter notebook</p>\n<p>.parquet and not .csv anymore -&gt; just replace read_csv with read_parquet and remove the nrows argument</p>\n<p>when looking at a .csv file you can look at it by using the <code>less</code> command</p>\n<p>some handy data commands\n- head -n 100 xyz.csv &gt; xyz_head.csv = means get the top 100 lines and convert that into a new file\n- wc -l xyz.csv = counts the amount of rows in the .csv file, the -l specifies lines</p>\n<p>the dataset:\nhttps://d37ci6vzurychx.cloudfront.net/trip-data/yellow_tripdata_2021-01.parquet</p>\n<p>for the dataset we are using they also have documentation about it:\nhttps://www.nyc.gov/assets/tlc/downloads/pdf/data_dictionary_trip_records_yellow.pdf</p>\n<p>there is also a zone id .csv file\n<a href=\"https://d37ci6vzurychx.cloudfront.net/misc/taxi_zone_lookup.csv\">Taxi Zone Lookup Table</a></p>\n<p>So since the file was in .parquet file and not .csv file, we had to use .parquet and work with that in jupyter</p>\n<p><code>import pandas as pd</code>\n<code>!pip install pyarrow</code>\n<code>import urllib.request</code>\n<code>import pyarrow.parquet as pq</code></p>\n<p><code>url = 'https://d37ci6vzurychx.cloudfront.net/trip-data/yellow_tripdata_2021-01.parquet'</code>\n<code>filename = 'yellow_tripdata_2021-01.parquet'</code>\n<code>urllib.request.urlretrieve(url, filename)</code>\n<code>print(\"File downloaded\")</code></p>\n<p><code>parquet_file = pq.ParquetFile(filename)</code>\n<code>trips_df = parquet_file.read(use_pandas_metadata=True).slice(0, 100).to_pandas()</code></p>\n<p><code>trips_df</code></p>\n<p>Now we want to put this data into our postgres, and to start off we need to turn this into a schema, first we make this into a data definition language (which is used for specifying schemas in sql)</p>\n<p><code>print(pd.io.sql.get_schema(trips_df, name=\"yellow_taxi_data\"))</code></p>\n<p>we notice in the schema that what are meant to be timestamps are in a text format so we need to convert them into timestamp</p>\n<p><code>trips_df.tpep_pickup_datetime = pd.to_datetime(trips_df.tpep_pickup_datetime)</code>trips_df.tpep_dropoff_datetime = pd.to_datetime(trips_df.tpep_dropoff_datetime)`</p>\n<p>this would go above the ddl schema conversion</p>\n<p>then we need to import sqlalchemy</p>\n<p>then we do:\n`from sqlalchemy import create_engine</p>\n<p><code>engine = create_engine('postgresql://root:root@localhost:5432/ny_taxi')</code></p>\n<p><code>engine.connect()</code></p>\n<p>then we edit our schema ddl code:\n<code>print(pd.io.sql.get_schema(trips_df, name=\"yellow_taxi_data\", con=engine))</code></p>\n<p>so since this is a large dataset and we are only really inserting the first 100 data points, we can do batch processing, using an iterator</p>\n<p>we create the iterator here:\n<code>parquet_file = pq.ParquetFile('yellow_tripdata_2021-01.parquet')</code>df_iter = parquet_file.iter_batches(batch_size=100000)`</p>\n<p>get the first chunk:\n<code>df = next(df_iter).to_pandas()</code></p>\n<p>check length:\n<code>len(df)</code></p>\n<p>to make sure the data type is timestamps:\n<code>trips_df.tpep_pickup_datetime = pd.to_datetime(trips_df.tpep_pickup_datetime)</code>trips_df.tpep_dropoff_datetime = pd.to_datetime(trips_df.tpep_dropoff_datetime)`</p>\n<p>now we can use:\n<code>df.head(n=0)</code></p>\n<p>this will show us the headers of the data set</p>\n<p>now what we want to do is insert the table and then the data chunk by chunk</p>\n<p>there is a function in dataframes which is called to_sql\n<code>trips_df.head(n=0).to_sql(name='yellow_taxi_data', con=engine, if_exists='replace')</code></p>\n<p>the replace keyword will replace a row if its already there with the new row (it will drop the table before inserting new values)</p>\n<p>this command inserts the tables into our postgres in docker, this was produced by Claude AI\n`%time df_iter = parquet_file.iter_batches(batch_size=100000)</p>\n<p><code>for i, batch in enumerate(df_iter):</code>chunk_df = batch.to_pandas()`</p>\n<pre><code># Convert datetime columns\nchunk_df.tpep_pickup_datetime = pd.to_datetime(chunk_df.tpep_pickup_datetime)\nchunk_df.tpep_dropoff_datetime = pd.to_datetime(chunk_df.tpep_dropoff_datetime)\n\nprint(f\"Inserting chunk {i+1} with {len(chunk_df)} rows...\")\n\n# Insert chunk\n%time chunk_df.to_sql(name='yellow_taxi_data', con=engine, if_exists='append')\n\nprint(f\"Finished inserting chunk {i+1}\")\n</code></pre>\n<p>This concludes my learning for the day!</p>"
  },
  {
    "id": "2025-08-22-datatalksclub---day-2",
    "title": "DataTalksClub - Day 2",
    "date": "2025-08-22",
    "html_content": "<h1>dataengineering #datatalksclub</h1>\n<h1>Conecting pgAdmin and Postgres (1.2.3)</h1>\n<p>We can quickly take a look at the data in pgcli, we can connect to the DB and do commands such as</p>\n<p><code>SELECT max(tpep_pickup_datetime), MAX(total_amount)</code>\n<code>FROM yellow_taxi_data;</code></p>\n<p>PgAdmin is a more convenient tool when looking at our DB, it is a web-based GUI sql tool.</p>\n<p>We do not need to install it, instead we can use docker to pull an image of PgAdmin.</p>\n<p>https://www.pgadmin.org/download/pgadmin-4-container/</p>\n<p>https://hub.docker.com/r/dpage/pgadmin4/</p>\n<p>to do this we can run the command</p>\n<p>docker run -it \\\n    -e PGADMIN_DEFAULT_EMAIL=\"admin@admin.com\" \\\n    -e PGADMIN_DEFAULT_PASSWORD=\"root\" \\\n    -p 8080:80 \\\n    dpage/pdagmin4</p>\n<p>-p 8080:80 means whatever we send to the port 8080, this will be forwarded to the port 80 on docker</p>\n<p>so then we can go to localhost:8080 on the browser and there we login and create a new server, but we cannot do that because now we need to link the two containers </p>\n<p>we can do this by using networks, first we shut down the containers, and we create a netowork by doing</p>\n<p>docker network create pg-network</p>\n<p>docker run -it \\\n    -e POSTGRES_USER=\"root\" \\\n    -e POSTGRES_PASSWORD=\"root\" \\\n    -e POSTGRES_DB=\"ny_taxi\" \\\n    -v \"/Users/ignasprakapas/Coding Projects/data-engineering/data-engineering-zoomcamp/01-docker-terraform/2_docker_sql/ny_taxi_postgres_data\":/var/lib/postgresql/data \\\n    -p 5432:5432 \\\n    --network=pg-network \\\n    --name pg-database \\\n    postgres:13</p>\n<p>docker run -it \\\n    -e PGADMIN_DEFAULT_EMAIL=\"admin@admin.com\" \\\n    -e PGADMIN_DEFAULT_PASSWORD=\"root\" \\\n    -p 8080:80 \\\n    --network=pg-network \\\n    --name pgadmin \\\n    dpage/pgadmin4</p>\n<p>now after we run the containers agian, we can create the server and now we can refer to the postgres database as pg-database, when it comes to the host name/address</p>\n<p>![[Pasted image 20250817164215.png|500x400]]</p>"
  },
  {
    "id": "2025-08-22-data-engineering-roadmap---python",
    "title": "Data Engineering Roadmap - Python",
    "date": "2025-08-22",
    "html_content": "<h1>python #roadmap</h1>\n<h3>Python Fundamentals</h3>\n<h4>1.1</h4>\n<h5>Introduction</h5>\n<p>an input() function always returns a string\nyou can convert it using int(), or float()</p>\n<p>example:\nage = int(age)</p>\n<h4>1.2</h4>\n<h5>Data Types</h5>\n<h1>pythondatatype</h1>\n<p>three numeric types\n- integers\n- floats\n- complex numbers</p>\n<p>strings are immutable, meaning their values cannot be changed.</p>\n<p>common string operations include concatentation, slicing, and formatting.</p>\n<p><code>str1 = \"Data\"</code>\n<code>str2 = \"Engineering\"</code>\n<code>Concatenationcombined_str = str1 + \" \" + str2</code>print(combined_str) # Output: Data Engineering``</p>\n<p><code>substring = combined_str[0:4]</code>\n<code>print(substring) # Output: Data</code></p>\n<p><code>formatted_string = \"I am learning {}\".format(combined_str)</code>\n<code>print(formatted_string) # Output: I am learning Data Engineering</code></p>\n<h5>Python's Data Structures</h5>\n<h1>pythondatastructure</h1>\n<ul>\n<li>\n<p>Lists (mutable collections of items, defined using square brackets)\n    <code>my_list = [1, 2, 3, \"apple\", \"banana\"]</code></p>\n<p><code>print(type(my_list)) # Output: &lt;class 'list'&gt;</code>\n<code>print(my_list[0])    # Output: 1 (accessing the first element)</code>\n<code>print(my_list[-1])   # Output: banana (accessing the last element)</code></p>\n<p><code>my_list.append(\"cherry\")</code> \n<code>print(my_list) # Output: [1, 2, 3, 'apple', 'banana', 'cherry'] # Add an element to the end</code></p>\n<p><code>my_list.insert(2, \"orange\")</code> \n<code>print(my_list) # Output: [1, 2, 'orange', 3, 'apple', 'banana', 'cherry'] # Insert an element at a specific index</code></p>\n<p><code>my_list.remove(\"apple\") # Remove a specific element</code>\n<code>print(my_list) # Output: [1, 2, 'orange', 3, 'banana', 'cherry']</code></p>\n<p><code>popped_element = my_list.pop(1) # Remove and return an element at a specific index</code>\n<code>print(my_list) # Output: [1, 'orange', 3, 'banana', 'cherry']</code>\n<code>print(popped_element) # Output: 2</code></p>\n<p><code>my_list[0] = 10  # Modify an element</code>\n<code>print(my_list) # Output: [10, 'orange', 3, 'banana', 'cherry']</code>\n- Tuples\n<code>my_list.append(\"cherry\")  # Add an element to the end</code>\n<code>print(my_list)           # Output: [1, 2, 3, 'apple', 'banana', 'cherry']</code></p>\n<p><code>my_list.insert(2, \"orange\") # Insert an element at a specific index</code>\n<code>print(my_list)           # Output: [1, 2, 'orange', 3, 'apple', 'banana', 'cherry']</code></p>\n<p><code>my_list.remove(\"apple\") # Remove a specific element</code>\n<code>print(my_list)  # Output: [1, 2, 'orange', 3, 'banana', 'cherry']</code></p>\n<p><code>popped_element = my_list.pop(1) # Remove and return an element at a specific index</code>\n<code>print(my_list)  # Output: [1, 'orange', 3, 'banana', 'cherry']</code>\n<code>print(popped_element)  # Output: 2</code></p>\n<p><code>my_list[0] = 10 # Modify an element</code>\n<code>print(my_list) # Output: [10, 'orange', 3, 'banana', 'cherry']</code>\n- Dictionaries\n<code>my_dict = {</code>\n    <code>\"name\": \"Alice\",</code>\n    <code>\"age\": 30,</code>\n    <code>\"city\": \"New York\"</code>\n<code>}</code></p>\n<p><code>print(type(my_dict)) # Output: &lt;class 'dict'&gt;</code>\n<code>print(my_dict[\"name\"]) # Output: Alice (accessing a value by its key)</code>\n<code>print(my_dict.get(\"age\"))</code>Output: 30 (another way to access a value, returns None if key doesn't exist)<code>- Sets</code>my_set = {1, 2, 3, 4, 5}<code></code>my_set2 = set([4, 5, 6, 7])`</p>\n<p><code>print(type(my_set)) # Output: &lt;class 'set'&gt;</code></p>\n<p><code>my_set.add(6)       # Add an element</code>\n<code>print(my_set)       # Output: {1, 2, 3, 4, 5, 6}</code></p>\n<p><code>my_set.remove(1)    # Remove an element</code>\n<code>print(my_set)       # Output: {2, 3, 4, 5, 6}</code></p>\n<p><code>union_set = my_set.union(my_set2) # Union of two sets</code>\n<code>print(union_set)    # Output: {2, 3, 4, 5, 6, 7}</code></p>\n<p><code>intersection_set = my_set.intersection(my_set2) # Intersection of two sets</code>\n<code>print(intersection_set) # Output: {4, 5, 6}</code></p>\n<p><code>difference_set = my_set.difference(my_set2) # Difference between two sets</code>\n<code>print(difference_set) # Output: {2, 3}</code></p>\n</li>\n</ul>\n<p>| DS          | Lists    | Tuples      | Dictionaries         | Sets        |\n| ----------- | -------- | ----------- | -------------------- | ----------- |\n| Immutable   | No       | Yes         | No                   | No          |\n| Defined     | []       | ()          | {} (key-value)       | {} or set() |\n| Performance | Standard | Fastest     | Standard             | Standard    |\n| Main Use    | Editing  | Performance | Storing &amp; Retrieving | Maths       |\n- Dictonaries are ideal for stroing config settings for data pipelines\n- The set operator can be used to quickly remove duplicate entries</p>\n<h5>If Statements</h5>\n<ul>\n<li>if</li>\n<li>elif</li>\n<li>else</li>\n</ul>\n<p>you can also do nested if statements</p>\n<p>```\nraining = Truetemperature = 15</p>\n<p>if raining:<br />\n    if temperature &lt; 10:  <br />\n        print(\"It's a cold and rainy day.\")<br />\n    else:  <br />\n        print(\"It's a rainy day.\") # This line will be executed</p>\n<p>else:<br />\n    print(\"It's not raining.\")\n```</p>\n<h5>Loops</h5>\n<ul>\n<li>For Loops<ul>\n<li>are used to iterate over a sequence (list, tuple, string or range)<ul>\n<li>range(start, stop, step) is used to iterate over a certain number of times<ul>\n<li>nested for loops, are used for matrixes</li>\n<li>matrix = [ [1, 2, 3], [4, 5, 6], [7, 8, 9] ]</li>\n<li>for row in matrix: <ul>\n<li>for element in row: <ul>\n<li>print(element) # Prints each element of the matrix</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>While loops, keep looping as long as a certain condition is true</li>\n</ul>"
  }
]